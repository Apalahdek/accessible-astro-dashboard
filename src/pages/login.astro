---
import LoginLayout from '../layouts/LoginLayout.astro'
import LoginForm from '../components/LoginForm.astro'
import { Notification } from 'accessible-astro-components'
import { Icon } from 'astro-icon'
---

<LoginLayout title="Login">
  <section class="bg-gradient-to-r from-neutral-900 via-neutral-700 to-neutral-600 h-full">
    <div class="login-container h-full flex justify-center items-center p-6">
      <div class="login-card bg-white rounded-xl shadow-lg p-8 w-full max-w-md">
        <div class="brand-logo mb-8 text-center">
          <div class="bg-neutral-900 p-6 rounded-full">
            <img class="brand__logo max-w-xs" src="/astro-logo.svg" alt="Logo">
          </div>
        </div>

        <div class="form-container space-y-6">
          <Notification class="mb-6">
            <Icon pack="majesticons" name="information-circle-line" />
            <p class="text-sm text-neutral-600">Log in using <strong>admin@astro.demo</strong> and <strong>Astronaut570</strong>.</p>
          </Notification>
          
          <h1 class="text-3xl font-semibold text-neutral-800">Login</h1>

          <p class="text-neutral-600 text-lg leading-relaxed">
            Please enter your API key below to access your dashboard. If you don't have an API key, contact your admin.
          </p>

          <LoginForm />

          <div class="footer text-neutral-500 text-sm mt-6">
            <p><em>Build fast dashboards, faster.</em></p>
          </div>
        </div>
      </div>
    </div>
  </section>
</LoginLayout>

<style lang="scss">
  @use '../assets/scss/base/breakpoint' as *;
  @use '../assets/scss/base/space' as *;

  .login-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .login-card {
    background-color: #fff;
    padding: $space-24;
    border-radius: 1.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 400px;
    text-align: center;

    .brand-logo {
      img {
        width: 100px;
        object-fit: contain;
        margin-bottom: 1.5rem;
      }
    }

    .form-container {
      h1 {
        font-size: 2rem;
        font-weight: 600;
        color: var(--neutral-800);
        margin-bottom: 0.75rem;
      }

      p {
        font-size: 1.125rem;
        line-height: 1.75rem;
        color: var(--neutral-600);
        margin-bottom: 1.5rem;
      }
    }

    button {
      background-color: var(--primary-500);
      color: #fff;
      padding: 0.75rem;
      width: 100%;
      border-radius: 0.75rem;
      font-size: 1rem;
      font-weight: 600;
      transition: background-color 0.3s ease;

      &:hover {
        background-color: var(--primary-600);
      }

      &:focus {
        outline: none;
        box-shadow: 0 0 5px var(--primary-400);
      }
    }

    input {
      width: 100%;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 0.75rem;
      border: 2px solid var(--neutral-300);
      transition: border-color 0.3s ease;
      font-size: 1rem;
    }

    input:focus {
      border-color: var(--primary-500);
      outline: none;
    }

    a {
      color: var(--primary-500);
      text-decoration: none;
      font-size: 0.875rem;
      margin-top: 1rem;
      display: block;
      transition: color 0.3s ease;

      &:hover {
        color: var(--primary-600);
        text-decoration: underline;
      }
    }
  }

  .login__background {
    display: none;
    background-color: #000;
    background-image: url("/login-background.webp");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    
    @include breakpoint(medium) {
      display: block;
    }
  }

  /* Add Gradient Effect */
  .bg-gradient-to-r {
    background-image: linear-gradient(to right, var(--neutral-900), var(--neutral-700), var(--neutral-600));
  }
</style>
